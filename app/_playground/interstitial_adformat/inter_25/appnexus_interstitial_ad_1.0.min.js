var AppNexusAdTemplate=AppNexusAdTemplate||{};AppNexusAdTemplate.AppNexInterstitial=AppNexusAdTemplate.AppNexInterstitial||{},AppNexusAdTemplate.AppNexInterstitialConf={_timer_xbtn:0,_show_close_x:!1,_timer_close:15,_bg_opacity:1,_bg_color:"#000000",_close_button_color:"#FFFFFF",_gadget:"",_browser:"",_orientation:"",_browser_width:"",_browser_height:"",_xbtn_img:"",_click_url:"",_adImages:[],_userAgent:[],_backimg:"",_preview:"false",_imageMode:"img_1x1",_interstitial_outer_clsname:"interstitial_outer_clsname",_interstitial_xbtn_clsname:"interstitial_xbtn_clsname",_interstitial_xbtn_txt_clsname:"interstitial_xbtn_txt_clsname",_interstitial_img_inner_clsname:"interstitial_img_inner_clsname",_interstitial_html_inner_clsname:"interstitial_html_inner_clsname",_interstitial_outer_clsname_css:"font-family: Arial, Verdana, Helvetica, sans-serif; position: fixed; top: 0px; left: 0px; width: 100%; height: 100%; z-index: 100; background: #FFF; overflow: hidden;",_interstitial_xbtn_clsname_css:"float: right; z-index: 11111; text-align: center; font-weight: bolder; color: #FFFFFF; position: fixed; top: 0px; right: 0px; width: 25px; height: 25px; font-size: 23px;",_interstitial_xbtn_txt_clsname_css:"border-radius: 40px; margin: 5px 5px 0 0; border-style: solid; border-width: 5px; border-color: #FFFFFF;",_interstitial_img_inner_clsname_css:"zoom: 5; max-width: 100%; max-height: 100%; margin: auto; display: block; top: 49.999%; left: 50%; transform: translate(-50%, -50%); position: absolute;",_interstitial_html_inner_clsname_css:"width: 100%; height: 100%; overflow: hidden"},AppNexusAdTemplate.AppNexInterstitial={conf:AppNexusAdTemplate.AppNexInterstitialConf,win:window,doc:window.document,initializeInterstitial:function(t){var e=document.createElement("div");e.className=this.conf._interstitial_outer_clsname,e.style.cssText=this.conf._interstitial_outer_clsname_css,e.style.top="-"+this.conf._browser_height+"px",e.style.backgroundColor="rgba("+this.hex2rgb(this.conf._bg_color)+", "+this.conf._bg_opacity+")";var n;if("html"==this.conf._imageMode){e.style.backgroundColor="",n=document.createElement("iframe"),n.className=this.conf._interstitial_html_inner_clsname,n.style.cssText=this.conf._interstitial_html_inner_clsname_css;var i=document.getElementById("APPNEXUS_INTERSTITIAL_AD_IFRAME_INNER_CONTENTS").innerHTML;n.src="javascript:'"+i+"'"}else n=document.createElement("img"),n.className=this.conf._interstitial_img_inner_clsname,n.style.cssText=this.conf._interstitial_img_inner_clsname_css,n.src=this.conf._backimg,n.alt="",n.onclick=function(e){e.currentTarget.className!=t.conf._interstitial_xbtn_clsname&&t.win.open(t.conf._click_url,"_blank","")},"firefox"==this.conf._userAgent[0]&&("portrait"==this.conf._orientation?n.style.cssText=n.style.cssText+"width: 100%":n.style.cssText=n.style.cssText+"height: 100%");this.conf._browser_width<360?(this.conf._interstitial_xbtn_clsname_css+="width: 20px; height: 20px; font-size: 18px;",this.conf._interstitial_xbtn_txt_clsname_css+="border-width: 3px;"):this.conf._browser_width>1e3&&(this.conf._interstitial_xbtn_clsname_css+="width: 50px; height: 50px; font-size: 45px;",this.conf._interstitial_xbtn_txt_clsname_css+="border-width: 8px;"),this.conf._interstitial_xbtn_clsname_css+="color: "+this.conf._close_button_color+";",this.conf._interstitial_xbtn_txt_clsname_css+="border-color: "+this.conf._close_button_color+";";var s=document.createElement("span");s.className=this.conf._interstitial_xbtn_clsname,s.style.cssText=this.conf._interstitial_xbtn_clsname_css,e.appendChild(s),e.appendChild(n),this.doc.body.appendChild(e)},initVariables:function(){this.conf._userAgent=this.getBrowserAgent(),this.getImgSize()},getScreenMode:function(){var t;width=this.win.innerWidth,t=this.win.innerHeight,this.conf._browser_width=width,this.conf._browser_height=t,width<t?this.conf._orientation="portrait":this.conf._orientation="landscape"},closeInterstialAd:function(t,e){var n=t.doc.querySelector("."+t.conf._interstitial_outer_clsname);n&&n.remove(),e.stopPropagation()},getImgSize:function(){var t=this;if("html"==t.conf._imageMode)return!1;t.getScreenMode();var e;e="portrait"==t.conf._orientation?4==t.conf._adImages.length?"mobile"==t.conf._userAgent[2]?t.conf._adImages[0]:t.conf._adImages[2]:3==t.conf._adImages.length?"mobile"==t.conf._userAgent[2]?t.conf._adImages[0]:t.conf._adImages[2]:t.conf._adImages[0]:4==t.conf._adImages.length?"mobile"==t.conf._userAgent[2]?t.conf._adImages[1]:t.conf._adImages[3]:3==t.conf._adImages.length?"mobile"==t.conf._userAgent[2]?t.conf._adImages[0]:t.conf._adImages[2]:2==t.conf._adImages.length?t.conf._adImages[1]:t.conf._adImages[0],t.conf._backimg=e;var n=t.doc.querySelector("."+t.conf._interstitial_img_inner_clsname);n&&(n.src=e)},timerXbtn:function(){var t=this;if(!t.conf._show_close_x)return!1;var e,n=t.doc.querySelector("."+t.conf._interstitial_xbtn_clsname),i=t.conf._timer_xbtn-1,s=i;0==t.conf._timer_xbtn?(n.innerHTML="X",n.style.cssText=n.style.cssText+t.conf._interstitial_xbtn_txt_clsname_css,n.addEventListener("click",function(){var e=arguments[0];t.closeInterstialAd(t,e)})):t.conf.interval=setInterval(function(i){minutes=parseInt(s/60,10),e=parseInt(s%60,10),0>s?(""==t.conf._xbtn_img?(n.innerHTML="X",n.style.cssText=n.style.cssText+t.conf._interstitial_xbtn_txt_clsname_css,n.addEventListener("click",function(){var e=arguments[0];t.closeInterstialAd(t,e)})):(n.innerHTML="",n.style.backgroundImage="url("+t.conf._xbtn_img+")"),t.win.clearInterval(t.conf.interval)):(n.textContent=e+1,s--)},1e3)},timerCloser:function(){var t=this;0!=t.conf._timer_close&&setTimeout(function(){var e=t.doc.querySelector("."+t.conf._interstitial_outer_clsname);e&&e.remove(),t.win.clearInterval(t.conf.interval)},1e3*(t.conf._timer_close+1))},BoxAnimation:function(t){function e(){var a=Date.now(),r=(a-n)/i,o=0,c=100*r;s.style.transform="translate("+o+"px, "+c+"px)",c<t.conf._browser_height?requestAnimationFrame(e):s.style.transform="translate(0px, "+t.conf._browser_height+"px)"}var n=0,i=50,s=t.doc.querySelector("."+t.conf._interstitial_outer_clsname);this.startAnimation=function(){n=Date.now(),requestAnimationFrame(e)}},getBrowserAgent:function(){var t,e=navigator.appName,n=navigator.userAgent;if(null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(n)){var i=["Internet Explorer"];return i&&null!=(t=n.match(/rv:([0-9]{1,}[\.0-9]{0,})/))&&(i[2]=t[1]),i=i?[i[0],i[2]]:[e,navigator.appVersion,"-?"]}var i=n.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return i&&null!=(t=n.match(/version\/([\.\d]+)/i))&&(i[2]=t[1]),i=i?[i[1].toLowerCase(),i[2]]:[e,navigator.appVersion,"-?"],this.getScreenMode(),i.push(this.whatDeviceIsThis()),i},whatDeviceIsThis:function(){var t="";return this.conf._preview?t="mobile":navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?(navigator.userAgent.match(/pad/i)&&(t="tablet"),t=navigator.userAgent.match(/phone/i)||navigator.userAgent.match(/pod/i)?"mobile":"portrait"==this.conf._orientation&&this.win.screen.width>"740"?"tablet":"landscape"==this.conf._orientation&&this.win.screen.height>"740"?"tablet":"mobile"):t="pc",t},hex2rgb:function(t){var e,n,i;return"#"==t.charAt(0)&&(t=t.substr(1)),e=t.charAt(0)+""+t.charAt(1),n=t.charAt(2)+""+t.charAt(3),i=t.charAt(4)+""+t.charAt(5),e=parseInt(e,16),n=parseInt(n,16),i=parseInt(i,16),e+","+n+","+i},init:function(){function t(){e.getImgSize()}var e=this;if(e.conf._preview||e.win.self==e.win.top||(e.win=e.win.parent,e.doc=e.win.document),"html"==e.conf._imageMode){e.initVariables(),e.initializeInterstitial(e),e.win.addEventListener("resize",t);var n=new e.BoxAnimation(e);n.startAnimation(),e.timerXbtn(),e.timerCloser()}else{var i=new Image;i.src=e.conf._adImages[0],i.onload=function(){function t(){e.getImgSize()}e.initVariables(),e.initializeInterstitial(e),e.win.addEventListener("resize",t);var n=new e.BoxAnimation(e);n.startAnimation(),e.timerXbtn(),e.timerCloser()}}}};