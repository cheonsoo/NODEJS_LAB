var AppNexusAdTemplate=AppNexusAdTemplate||{};AppNexusAdTemplate.AppNexInterstitial=AppNexusAdTemplate.AppNexInterstitial||{},AppNexusAdTemplate.AppNexInterstitialConf={_timer_xbtn:0,_timer_close:15,_bg_opacity:1,_bg_color:"#000000",_gadget:"",_browser:"",_orientation:"",_width_landscape:"",_height_landscape:"",_browser_width:"",_browser_height:"",_xbtn_img:"close_54x54.png",_click_url:"",_adImages:[],_userAgent:[],_interstitial_outer_clsname:"interstitial_outer_clsname",_interstitial_xbtn_clsname:"interstitial_xbtn_clsname",_interstitial_img_clsname:"interstitial_img_clsname",_interstitial_outer_clsname_css:"font-family: Arial, Verdana, Helvetica, sans-serif; position: fixed; top: 0px; left: 0px; width: 100%; height: 100%; z-index: 100; background: #FFF; overflow: hidden;",_interstitial_xbtn_clsname_css:"width: 54px; height: 54px; float: right; z-index: 11111; text-align: center; font-size: 45px; font-weight: bolder; color: #FFF;",_interstitial_img_clsname_css:"height: 100%; background-repeat: round; background-size: 100% 100%; cursor: pointer; z-index: 111; margin: auto;"},AppNexusAdTemplate.AppNexInterstitial={conf:AppNexusAdTemplate.AppNexInterstitialConf,win:window,doc:window.document,initializeInterstitial:function(){var t=document.createElement("div");t.className=this.conf._interstitial_outer_clsname,t.style.cssText=this.conf._interstitial_outer_clsname_css,t.style.top="-"+this.conf._browser_height+"px",t.style.backgroundColor="rgba("+this.hex2rgb(this.conf._bg_color)+", "+this.conf._bg_opacity+")";var e=document.createElement("span");e.className=this.conf._interstitial_xbtn_clsname,e.style.cssText=this.conf._interstitial_xbtn_clsname_css,e.addEventListener("click",this.closeInterstialAd);var i=document.createElement("div");i.className=this.conf._interstitial_img_clsname,i.style.cssText=this.conf._interstitial_img_clsname_css,i.onclick=function(t){var e=AppNexusAdTemplate.AppNexInterstitial.conf;t.currentTarget.className!=e._interstitial_xbtn_clsname&&(location.href=e._click_url)},i.appendChild(e),t.appendChild(i),this.doc.body.appendChild(t)},initVariables:function(){this.conf._userAgent=this.getBrowserAgent(),this.getImgSize()},getScreenMode:function(){var t;width=this.win.innerWidth,t=this.win.innerHeight,this.conf._browser_width=width,this.conf._browser_height=t,width<t?this.conf._orientation="portrait":this.conf._orientation="landscape"},closeInterstialAd:function(t){var e=AppNexusAdTemplate.AppNexInterstitial.conf,i=document.querySelector("."+e._interstitial_outer_clsname);i.remove(),t.stopPropagation()},getImgSize:function(){var t=this,e=new Image;t.getScreenMode();var i,n;"portrait"==t.conf._orientation?(n="100%",i=4==t.conf._adImages.length?"mobile"==t.conf._userAgent[2]?t.conf._adImages[0]:t.conf._adImages[2]:t.conf._adImages[0]):4==t.conf._adImages.length?(n="100%",i="mobile"==t.conf._userAgent[2]?t.conf._adImages[1]:t.conf._adImages[3]):2==t.conf._adImages.length?(n="100%",i=t.conf._adImages[1]):(n=t.conf._width_landscape+"px",i=t.conf._adImages[0]),e.src=i,e.onload=function(){if("landscape"==t.conf._orientation&&1==t.conf._adImages.length){var a=(e.width/e.height*1).toFixed(2);n=t.conf._browser_height*a+"px"}var r=document.querySelector("."+t.conf._interstitial_img_clsname);r.style.width=n,r.style.backgroundImage="url("+i+")"}},timerXbtn:function(){var t,e,i=this,n=this.conf._timer_xbtn,a=this.doc.querySelector("."+this.conf._interstitial_xbtn_clsname),r=n;n>0?this.conf.interval=setInterval(function(n){t=parseInt(r/60,10),e=parseInt(r%60,10),0>r?(i.doc.querySelector("."+i.conf._interstitial_xbtn_clsname).innerHTML="",i.doc.querySelector("."+i.conf._interstitial_xbtn_clsname).style.backgroundImage="url("+i.conf._xbtn_img+")",i.win.clearInterval(i.conf.interval)):(a.textContent=e,r--)},1e3):(i.doc.querySelector("."+i.conf._interstitial_xbtn_clsname).innerHTML="",i.doc.querySelector("."+i.conf._interstitial_xbtn_clsname).style.backgroundImage="url("+i.conf._xbtn_img+")")},timerCloser:function(){var t=this;setTimeout(function(){var e=document.querySelector("."+t.conf._interstitial_outer_clsname);e.remove(),t.win.clearInterval(t.conf.interval)},1e3*this.conf._timer_close)},BoxAnimation:function(){function t(){var e=AppNexusAdTemplate.AppNexInterstitial,r=Date.now(),s=(r-i)/n,o=0,c=100*s;a.style.transform="translate("+o+"px, "+c+"px)",c<e.conf._browser_height?requestAnimationFrame(t):a.style.transform="translate(0px, "+e.conf._browser_height+"px)"}var e=AppNexusAdTemplate.AppNexInterstitial.conf,i=0,n=50,a=document.querySelector("."+e._interstitial_outer_clsname);this.startAnimation=function(){i=Date.now(),requestAnimationFrame(t)}},getBrowserAgent:function(){var t,e=navigator.appName,i=navigator.userAgent;if(null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(i)){var n=["Internet Explorer"];return n&&null!=(t=i.match(/rv:([0-9]{1,}[\.0-9]{0,})/))&&(n[2]=t[1]),n=n?[n[0],n[2]]:[e,navigator.appVersion,"-?"]}var n=i.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);n&&null!=(t=i.match(/version\/([\.\d]+)/i))&&(n[2]=t[1]),n=n?[n[1].toLowerCase(),n[2]]:[e,navigator.appVersion,"-?"],this.getScreenMode();var a="";return a=this.isMobileBrowser()?"portrait"==this.conf._orientation?this.win.screen.width<"700"?"mobile":"tablet":this.win.screen.height<"700"?"mobile":"tablet":"pc",n.push(a),console.log(n),n},isMobileBrowser:function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?!0:!1},hex2rgb:function(t){var e,i,n;return"#"==t.charAt(0)&&(t=t.substr(1)),e=t.charAt(0)+""+t.charAt(1),i=t.charAt(2)+""+t.charAt(3),n=t.charAt(4)+""+t.charAt(5),e=parseInt(e,16),i=parseInt(i,16),n=parseInt(n,16),e+","+i+","+n},init:function(){this.initVariables(),this.initializeInterstitial(),this.win.addEventListener("resize",function(){var t=AppNexusAdTemplate.AppNexInterstitial;t.getImgSize()});var t=new this.BoxAnimation;t.startAnimation(),display=this.doc.querySelector("."+this.conf._interstitial_xbtn_clsname),this.timerXbtn(),this.timerCloser()}};