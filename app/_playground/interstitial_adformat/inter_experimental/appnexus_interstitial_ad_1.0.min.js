var AppNexusAdTemplate=AppNexusAdTemplate||{};AppNexusAdTemplate.AppNexInterstitial=AppNexusAdTemplate.AppNexInterstitial||{},AppNexusAdTemplate.AppNexInterstitialConf={_timer_xbtn:0,_show_close_x:!1,_timer_close:15,_bg_opacity:1,_bg_color:"#000000",_close_button_color:"#FFFFFF",_gadget:"",_browser:"",_orientation:"",_browser_width:"",_browser_height:"",_xbtn_img:"",_click_url:"",_adImages:[],_userAgent:[],_backimg:"",_preview:"false",_imageMode:"img_1x1",_imageRatio:-1,_interstitial_outer_clsname:"interstitial_outer_clsname",_interstitial_xbtn_clsname:"interstitial_xbtn_clsname",_interstitial_xbtn_txt_clsname:"interstitial_xbtn_txt_clsname",_interstitial_img_inner_clsname:"interstitial_img_inner_clsname",_interstitial_html_inner_clsname:"interstitial_html_inner_clsname",_interstitial_outer_clsname_css:"font-family: Arial, Verdana, Helvetica, sans-serif; position: fixed; top: 0px; left: 0px; width: 100%; height: 100%; z-index: 100; background: #FFF; overflow: hidden;",_interstitial_xbtn_clsname_css:"float: right; z-index: 11111; text-align: center; font-weight: bolder; color: #FFFFFF; position: fixed; top: 0px; right: 0px; width: 25px; height: 25px; font-size: 23px;",_interstitial_xbtn_txt_clsname_css:"border-radius: 40px; margin: 5px 5px 0 0; border-style: solid; border-width: 5px; border-color: #FFFFFF;",_interstitial_img_inner_clsname_css:"zoom: 5; max-width: 100%; max-height: 100%; margin: auto; display: block; top: 49.999%; left: 50%; transform: translate(-50%, -50%); position: absolute;",_interstitial_html_inner_clsname_css:"width: 100%; height: 100%; overflow: hidden"},AppNexusAdTemplate.AppNexInterstitial={conf:AppNexusAdTemplate.AppNexInterstitialConf,win:window,doc:window.document,initializeInterstitial:function(t){var e=document.createElement("div");e.className=this.conf._interstitial_outer_clsname,e.style.cssText=this.conf._interstitial_outer_clsname_css,e.style.top="-"+this.conf._browser_height+"px",e.style.backgroundColor="rgba("+this.hex2rgb(this.conf._bg_color)+", "+this.conf._bg_opacity+")";var i;if("html"==this.conf._imageMode){e.style.backgroundColor="",i=document.createElement("iframe"),i.className=this.conf._interstitial_html_inner_clsname,i.style.cssText=this.conf._interstitial_html_inner_clsname_css;var n=document.getElementById("APPNEXUS_INTERSTITIAL_AD_IFRAME_INNER_CONTENTS").innerHTML;i.src="javascript:'"+n+"'"}else i=document.createElement("img"),i.className=this.conf._interstitial_img_inner_clsname,i.style.cssText=this.conf._interstitial_img_inner_clsname_css,i.src=this.conf._backimg,i.alt="",i.onclick=function(e){e.currentTarget.className!=t.conf._interstitial_xbtn_clsname&&t.win.open(t.conf._click_url,"_blank","")};this.conf._browser_width<360?(this.conf._interstitial_xbtn_clsname_css+="width: 20px; height: 20px; font-size: 18px;",this.conf._interstitial_xbtn_txt_clsname_css+="border-width: 3px;"):this.conf._browser_width>1e3&&(this.conf._interstitial_xbtn_clsname_css+="width: 50px; height: 50px; font-size: 45px;",this.conf._interstitial_xbtn_txt_clsname_css+="border-width: 8px;"),this.conf._interstitial_xbtn_clsname_css+="color: "+this.conf._close_button_color+";",this.conf._interstitial_xbtn_txt_clsname_css+="border-color: "+this.conf._close_button_color+";";var s=document.createElement("span");s.className=this.conf._interstitial_xbtn_clsname,s.style.cssText=this.conf._interstitial_xbtn_clsname_css,e.appendChild(s),e.appendChild(i),this.doc.body.appendChild(e),this.scaleImageSizeToOuterDiv()},initVariables:function(){this.conf._userAgent=this.getBrowserAgent(),this.getImgSize()},getScreenMode:function(){var t;width=this.win.innerWidth,t=this.win.innerHeight,this.conf._browser_width=width,this.conf._browser_height=t,width<t?this.conf._orientation="portrait":this.conf._orientation="landscape"},closeInterstialAd:function(t,e){var i=t.doc.querySelector("."+t.conf._interstitial_outer_clsname);i&&i.remove(),e.stopPropagation()},getImgSize:function(){var t=this;if("html"==t.conf._imageMode)return!1;t.getScreenMode();var e;e="portrait"==t.conf._orientation?4==t.conf._adImages.length?"mobile"==t.conf._userAgent[2]?t.conf._adImages[0]:t.conf._adImages[2]:3==t.conf._adImages.length?"mobile"==t.conf._userAgent[2]?t.conf._adImages[0]:t.conf._adImages[2]:t.conf._adImages[0]:4==t.conf._adImages.length?"mobile"==t.conf._userAgent[2]?t.conf._adImages[1]:t.conf._adImages[3]:3==t.conf._adImages.length?"mobile"==t.conf._userAgent[2]?t.conf._adImages[0]:t.conf._adImages[2]:2==t.conf._adImages.length?t.conf._adImages[1]:t.conf._adImages[0],t.conf._backimg=e;var i=t.doc.querySelector("."+t.conf._interstitial_img_inner_clsname);i&&(i.src=e)},timerXbtn:function(){var t=this;if(!t.conf._show_close_x)return!1;var e,i=t.doc.querySelector("."+t.conf._interstitial_xbtn_clsname),n=t.conf._timer_xbtn-1,s=n;0==t.conf._timer_xbtn?(i.innerHTML="X",i.style.cssText=i.style.cssText+t.conf._interstitial_xbtn_txt_clsname_css,i.addEventListener("click",function(){var e=arguments[0];t.closeInterstialAd(t,e)})):t.conf.interval=setInterval(function(n){minutes=parseInt(s/60,10),e=parseInt(s%60,10),0>s?(""==t.conf._xbtn_img?(i.innerHTML="X",i.style.cssText=i.style.cssText+t.conf._interstitial_xbtn_txt_clsname_css,i.addEventListener("click",function(){var e=arguments[0];t.closeInterstialAd(t,e)})):(i.innerHTML="",i.style.backgroundImage="url("+t.conf._xbtn_img+")"),t.win.clearInterval(t.conf.interval)):(i.textContent=e+1,s--)},1e3)},timerCloser:function(){var t=this;0!=t.conf._timer_close&&setTimeout(function(){var e=t.doc.querySelector("."+t.conf._interstitial_outer_clsname);e&&e.remove(),t.win.clearInterval(t.conf.interval)},1e3*(t.conf._timer_close+1))},BoxAnimation:function(t){function e(){var a=Date.now(),o=(a-i)/n,r=0,c=100*o;s.style.transform="translate("+r+"px, "+c+"px)",c<t.conf._browser_height?requestAnimationFrame(e):s.style.transform="translate(0px, "+t.conf._browser_height+"px)"}var i=0,n=50,s=t.doc.querySelector("."+t.conf._interstitial_outer_clsname);this.startAnimation=function(){i=Date.now(),requestAnimationFrame(e)}},getBrowserAgent:function(){var t,e=navigator.appName,i=navigator.userAgent;if(null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(i)){var n=["Internet Explorer"];return n&&null!=(t=i.match(/rv:([0-9]{1,}[\.0-9]{0,})/))&&(n[2]=t[1]),n=n?[n[0],n[2]]:[e,navigator.appVersion,"-?"]}var n=i.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return n&&null!=(t=i.match(/version\/([\.\d]+)/i))&&(n[2]=t[1]),n=n?[n[1].toLowerCase(),n[2]]:[e,navigator.appVersion,"-?"],this.getScreenMode(),n.push(this.whatDeviceIsThis()),n},whatDeviceIsThis:function(){var t="";return this.conf._preview?t="mobile":navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?(navigator.userAgent.match(/pad/i)&&(t="tablet"),t=navigator.userAgent.match(/phone/i)||navigator.userAgent.match(/pod/i)?"mobile":"portrait"==this.conf._orientation&&this.win.screen.width>"740"?"tablet":"landscape"==this.conf._orientation&&this.win.screen.height>"740"?"tablet":"mobile"):t="pc",t},hex2rgb:function(t){var e,i,n;return"#"==t.charAt(0)&&(t=t.substr(1)),e=t.charAt(0)+""+t.charAt(1),i=t.charAt(2)+""+t.charAt(3),n=t.charAt(4)+""+t.charAt(5),e=parseInt(e,16),i=parseInt(i,16),n=parseInt(n,16),e+","+i+","+n},scaleImageSizeToOuterDiv:function(){var t=this;if("firefox"==t.conf._userAgent[0]){var e=t.doc.querySelector("."+t.conf._interstitial_img_inner_clsname),i=t.doc.querySelector("."+t.conf._interstitial_outer_clsname),n=i.offsetWidth/i.offsetHeight,s=e.width/e.height;-1==t.conf._imageRatio&&(t.conf._imageRatio=s),console.log("parent width : "+i.offsetWidth),console.log("parent height : "+i.offsetHeight),console.log("image width : "+e.width),console.log("image height : "+e.height),console.log("parent_ratio : "+n),console.log("img_ratio    : "+s),console.log("------------------------------------------------------------------"),n<t.conf._imageRatio?(e.style.width="100%",e.style.height=""):(e.style.width="",e.style.height="100%")}},init:function(){function t(){e.getImgSize()}var e=this;if(e.conf._preview||e.win.self==e.win.top||(e.win=e.win.parent,e.doc=e.win.document),"html"==e.conf._imageMode){e.initVariables(),e.initializeInterstitial(e),e.win.addEventListener("resize",t);var i=new e.BoxAnimation(e);i.startAnimation(),e.timerXbtn(),e.timerCloser()}else{var n=new Image;n.src=e.conf._adImages[0],n.onload=function(){function t(){e.getImgSize(),e.scaleImageSizeToOuterDiv()}e.initVariables(),e.initializeInterstitial(e),e.win.addEventListener("resize",t);var i=new e.BoxAnimation(e);i.startAnimation(),e.timerXbtn(),e.timerCloser()}}}};
